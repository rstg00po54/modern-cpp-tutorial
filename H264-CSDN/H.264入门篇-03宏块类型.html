


<!DOCTYPE html>
<html lang="en">
  <head>
    <title>H.264 入门篇 - 03 (宏块类型) 现代 C++ 教程: 高速上手 C++ 11/14/17/20 - Modern C++ Tutorial: C++ 11/14/17/20 On the Fly</title>
    <meta charset="utf-8">
    <meta name="description" content="Modern C++ Tutorial | C++ 11/14/17/20 On the Fly | 现代 C++ 教程 | 高速上手 C++11/14/17/20">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" type="image/x-icon" href="/modern-cpp/assets/cover-2nd.png">
    <meta name="msapplication-TileColor" content="#7e2d36">
    <meta name="theme-color" content="#7e2d36">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80889616-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-80889616-2');
    </script>

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    
<link rel="stylesheet" href="/modern-cpp/css/page.css">


    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script>window.PAGE_TYPE = "book-zh-cn"</script>
    <script async src="//changkun.de/urlstat/client.js"></script>
  <meta name="generator" content="Hexo 7.3.0"></head>
  <body class="docs">
	<!-- body开始 -->

		<!-- mobile-bar 2-->
      <div id="mobile-bar" data-bg-text="现代 C++ 教程" >
        <a class="menu-button"></a>
        <a class="logo" href="/modern-cpp/"></a>
      </div>

	<!-- include header -->
    <div id="header">
  <a id="logo" href="/">
      <img src="/modern-cpp/assets/cover-2nd-logo.png">
      <span>教程：高速上手</span>
  </a>
  <ul id="nav">
      <li class="nav-dropdown-container resource">
  <a class="nav-link">资源</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a class="nav-link" href="/modern-cpp/zh-cn/00-preface/" >正文</a></li>
      <!-- TODO -->
      <!-- <li><a class="nav-link" href="/modern-cpp/code/1/" >代码</a></li>
      <li><a class="nav-link" href="/modern-cpp/exercises/1/" >习题</a></li>
      <li><a class="nav-link" href="/modern-cpp/answers/1/" >答案</a></li> -->
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container about">
  <a class="nav-link">关于</a><span class="arrow"></span>
  <ul class="nav-dropdown">
      <li><ul>
      <li><a class="nav-link" href="/modern-cpp/about/donate.html" >资助</a></li>
      <li><a class="nav-link" href="/modern-cpp/about/copyright.html" >版权声明</a></li>
      <li><a class="nav-link" href="/modern-cpp/about/ack.html" >致谢</a></li>
      </ul></li>
  </ul>
</li>


<li class="nav-dropdown-container about">
  <a class="nav-link" target="_blank" rel="noopener" href="https://github.com/rstg00po54/modern-cpp-tutorial">GitHub</a>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
		<!-- body 111 -->
        



  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
        <li class="nav-dropdown-container resource">
  <a class="nav-link">资源</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><ul>
      <li><a class="nav-link" href="/modern-cpp/zh-cn/00-preface/" >正文</a></li>
      <!-- TODO -->
      <!-- <li><a class="nav-link" href="/modern-cpp/code/1/" >代码</a></li>
      <li><a class="nav-link" href="/modern-cpp/exercises/1/" >习题</a></li>
      <li><a class="nav-link" href="/modern-cpp/answers/1/" >答案</a></li> -->
    </ul></li>
  </ul>
</li>

<li class="nav-dropdown-container about">
  <a class="nav-link">关于</a><span class="arrow"></span>
  <ul class="nav-dropdown">
      <li><ul>
      <li><a class="nav-link" href="/modern-cpp/about/donate.html" >资助</a></li>
      <li><a class="nav-link" href="/modern-cpp/about/copyright.html" >版权声明</a></li>
      <li><a class="nav-link" href="/modern-cpp/about/ack.html" >致谢</a></li>
      </ul></li>
  </ul>
</li>


<li class="nav-dropdown-container about">
  <a class="nav-link" target="_blank" rel="noopener" href="https://github.com/rstg00po54/modern-cpp-tutorial">GitHub</a>
</li>


    </ul>
    <div class="list">
      <h2>
		
          正文

      </h2>
      <ul class="menu-root">
	  <!-- 引入外部的 JS 文件 -->
  <!-- <script src="/modern-cpp/js/menu.js"></script> -->


	<!-- 传递数据到 JavaScript -->
	
	
	

	
		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-00%E7%AE%80%E4%BB%8B.html" class="sidebar-link">
			H.264 入门篇 - 00 (简介)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-02%E5%B8%A7%E5%86%85%E9%A2%84%E6%B5%8B%E7%9B%B8%E9%82%BB%E5%83%8F%E7%B4%A0%E6%8E%A8%E5%AF%BC.html" class="sidebar-link">
			H.264 入门篇 - 02 (帧内预测相邻像素推导)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-01Bitstream.html" class="sidebar-link">
			H.264 入门篇 - 01 (Bitstream)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-03%E5%AE%8F%E5%9D%97%E7%B1%BB%E5%9E%8B.html" class="sidebar-link current">
			H.264 入门篇 - 03 (宏块类型)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-04BSkip%E3%80%81PSkip%E3%80%81BDirect%E5%AE%8F%E5%9D%97.html" class="sidebar-link">
			H.264 入门篇 - 04 (B_Skip、P_Skip 、B_Direct宏块)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-05%E5%B8%A7%E5%86%85%E9%A2%84%E6%B5%8B.html" class="sidebar-link">
			H.264 入门篇 - 05 (帧内预测)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-06%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-%E8%BF%90%E5%8A%A8%E4%BC%B0%E8%AE%A1.html" class="sidebar-link">
			H.264 入门篇 - 06 (帧间预测 - 运动估计)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-07%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-%E8%A7%A3%E7%A0%81%E5%9B%BE%E5%83%8F%E7%BC%93%E5%AD%98DPB.html" class="sidebar-link">
			H.264 入门篇 - 07 (帧间预测 - 解码图像缓存 DPB)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-09%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-%E5%8F%82%E8%80%83%E5%B8%A7%E5%88%97%E8%A1%A8.html" class="sidebar-link">
			H.264 入门篇 - 09 (帧间预测 - 参考帧列表)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-11%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-DPB%E7%AE%A1%E7%90%86%E7%AD%96%E7%95%A5.html" class="sidebar-link">
			H.264 入门篇 - 11 (帧间预测 - DPB 管理策略)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-12%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-MVP%E6%B1%82%E8%A7%A3.html" class="sidebar-link">
			H.264 入门篇 - 12 (帧间预测 - MVP 求解)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-08%E5%B8%A7%E9%97%B4%E9%A2%84%E6%B5%8B-%E5%B7%B2%E8%A7%A3%E7%A0%81%E5%8F%82%E8%80%83%E5%B8%A7%E7%9A%84%E6%A0%87%E8%AE%B0.html" class="sidebar-link">
			H.264 入门篇 - 08 (帧间预测 - 已解码参考帧的标记)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-13POC%E6%B1%82%E8%A7%A3.html" class="sidebar-link">
			H.264 入门篇 - 13 (POC 求解)
		  </a>
		</li>

		<li>
		  <a href="/H264-CSDN/H.264%E5%85%A5%E9%97%A8%E7%AF%87-14%E5%8E%BB%E5%9D%97%E6%BB%A4%E6%B3%A2.html" class="sidebar-link">
			H.264 入门篇 - 14 (去块滤波)
		  </a>
		</li>


</ul>

	  
    </div>
  </div>
</div>

<link rel="stylesheet" href="../icon/iconfont.css">
<style>

/* body {
            background: #e4e9f5;
        } */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            list-style: none;
            text-decoration: none;
        }

        section {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font: 900 100px '';
            color: #ffa21759;
            background: rgb(34, 37, 39);
        }

        .shell {
            position: fixed;
            width: 60px;
			left: 0;
            height: 100%;
            background: #000000;
            z-index: 9999;
            transition: width 0.5s;
            /* padding-left: 10px; */
            overflow: hidden;
        }
/* 悬停改变宽度 */
        .shell:hover {
            width: 300px;
        }

        .imageBox {
            position: relative;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
        }

        .imageBox img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .shell ul {
            position: relative;
            height: 100vh;
        }

        .shell ul li {
            position: relative;
            padding: 5px;
        }

        .active {
            background: #e4e9f5;
            border-top-left-radius: 50px;
            border-bottom-left-radius: 50px;
        }

        .active::before {
            content: "";
            position: absolute;
            top: -30px;
            right: 0;
            width: 30px;
            height: 30px;
            border-bottom-right-radius: 25px;
            box-shadow: 5px 5px 0 5px #e4e9f5;
            background: transparent;
        }

        .active::after {
            content: "";
            position: absolute;
            bottom: -30px;
            right: 0;
            width: 30px;
            height: 30px;
            border-top-right-radius: 25px;
            box-shadow: 5px -5px 0 5px #e4e9f5;
            background: transparent;
        }

        #shelllogo {
            margin: 40px 0 100px 0;
        }

        .shell ul li a {
            position: relative;
            display: flex;
            white-space: nowrap;
        }

        .icon {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 40px;
            /* padding-left: 10px; */
            height: 70px;
            color: #333;
            transition: 0.5s;
            color: rgb(255, 255, 255);
        }

        .icon i {
            font-size: 30px;
            z-index: 999;
        }

        .text {
            position: relative;
            height: 70px;
            display: flex;
            align-items: center;
            font-size: 20px;
            color: #ffad32c1;
            padding-left: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: 0.5s;
        }

        .shell ul li:hover a .icon,
        .shell ul li:hover a .text {
            color: #ffa117;
        }

        .active a .icon::before {
            content: "";
            position: absolute;
            inset: 5px;
            width: 60px;
            background: #000000;
            /* 圆形 */
            border-radius: 50%;
            transition: 0.5s;
            border: 7px solid #ffa117;
            box-sizing: border-box;
        }
</style>


<div class="shell">
	<ul class="nav">
		<li class="active" id="shelllogo">
			<a href="#">
				<div class="icon">
					<div class="imageBox">
						<img src="../icon/cat.jpg" alt="">
					</div>
				</div>
				<div class="text">前端小窝</div>
			</a>
		</li>
		<li>
			<a href="#home">
				<div class="icon">
					<i class="iconfont icon-cangku"></i>
				</div>
				<div class="text">Home</div>
			</a>
		</li>
		<li>
			<a href="#theme">
				<div class="icon">
					<!-- 调色板 -->
					<i class="iconfont icon-tiaoseban"></i>
				</div>
				<div class="text">Theme</div>
			</a>
		</li>
		<li>
			<a href="#wallet">
				<div class="icon">
					<!-- 钱包 -->
					<i class="iconfont icon-qianbao"></i>
				</div>
				<div class="text">Wallet</div>
			</a>
		</li>
		<li>
			<a href="#picture">
				<div class="icon">
					<!-- 图片 -->
					<i class="iconfont icon-tupian"></i>
				</div>
				<div class="text">picture</div>
			</a>
		</li>
		<li>
			<a href="#code">
				<div class="icon">
					<!-- 二维码 -->
					<i class="iconfont icon-erweima"></i>
				</div>
				<div class="text">QR code</div>
			</a>
		</li>
		<li>
			<a href="#authentication">
				<div class="icon">
					<!-- 盾牌保险认证 -->
					<i class="iconfont icon-dunpaibaoxianrenzheng"></i>
				</div>
				<div class="text">auth</div>
			</a>
		</li>
		<li>
			<a href="#me">
				<div class="icon">
					<div class="imageBox">
						<img src="./cat.jpg" alt="">
					</div>
				</div>
				<div class="text">ME</div>
			</a>
		</li>
	</ul>
</div>

<div class="content book-zh-cn with-sidebar H.264入门篇-03宏块类型-guide">
  <h1 id="H-264-入门篇-03-宏块类型"><a href="#H-264-入门篇-03-宏块类型" class="headerlink" title="H.264 入门篇 - 03 (宏块类型)"></a>H.264 入门篇 - 03 (宏块类型)</h1><p><strong>目录</strong></p>
<p>前置文档：</p>
<p>H.264 标准中，编解码如下所示</p>
<img alt="" height="733" src="images/H.264 入门篇 - 03 (宏块类型)/cfee7a2a14850b62c9bdd763702ee18b.png" width="1200">

<p>在 Slice -&gt; RBSP -&gt; MacroBlock Layer 中，包含了一个 mb_type 这个字段：</p>
<td colspan="2" rowspan="1"> slice_type 允许的宏块类型集合 </td>
| slice_type | 允许的宏块类型集合 

<p>允许的宏块类型集合<br>| I (Slice) | I (参见表 7-11) (宏块类型) </p>
<p>I (参见表 7-11) (宏块类型)<br>| P (Slice) | P (参见表 7-13) 和 I (参见表 7-11) (宏块类型) </p>
<p>P (参见表 7-13) 和 I (参见表 7-11) (宏块类型)<br>| B (Slice) | B (参见表 7-14) 和 I (参见表 7-11) (宏块类型) </p>
<p>B (参见表 7-14) 和 I (参见表 7-11) (宏块类型)<br>| SI (Slice) | SI (参见表 7-12) 和 I (参见表 7-11) (宏块类型) </p>
<p>SI (参见表 7-12) 和 I (参见表 7-11) (宏块类型)<br>| SP (Slice) | P (参见表 7-13) 和 I (参见表 7-11) (宏块类型) </p>
<p>P (参见表 7-13) 和 I (参见表 7-11) (宏块类型)</p>
<p>为节省编码码流，mb_type 包含了多个信息，比如该宏块的划分方式，子块预测方式，cbp 等；</p>
<h2 id="1、宏块划分方式"><a href="#1、宏块划分方式" class="headerlink" title="1、宏块划分方式"></a>1、宏块划分方式</h2><ul>
<li>I 宏块支持 16x16、4个8x8块、16个4x4块划分方式；- P 宏块支持 16x16、2个16x8块、2个8x16块、4个8x8块（8x8块还需要再次划分）- B 宏块支持 16x16、2个16x8块、2个8x16块、4个8x8块（8x8块还需要再次划分）</li>
</ul>
<h2 id="2、宏块数据语法"><a href="#2、宏块数据语法" class="headerlink" title="2、宏块数据语法"></a>2、宏块数据语法</h2><img alt="" height="910" src="images/H.264 入门篇 - 03 (宏块类型)/83cad5d4f66217b8da9fb472fba57832.png" width="705">

<img alt="" height="105" src="images/H.264 入门篇 - 03 (宏块类型)/5fbcabbc299a5e561a648a6d6176ff5d.png" width="703">

<h2 id="3、宏块类型-mb-type"><a href="#3、宏块类型-mb-type" class="headerlink" title="3、宏块类型 mb_type"></a>3、宏块类型 mb_type</h2><p>mb_type 的查找法如下所示：</p>
<img alt="" height="813" src="images/H.264 入门篇 - 03 (宏块类型)/4b92c2715534fb25576c780d512521dd.png" width="1200">

<p>不同的 Slice type 下，同样的 mb_type 值，代表了不同的含义；</p>
<h3 id="3-1、I-Slice-的-mb-type"><a href="#3-1、I-Slice-的-mb-type" class="headerlink" title="3.1、I Slice 的 mb_type"></a>3.1、I Slice 的 mb_type</h3><p>I Slice 的 mb_type 如下：</p>
<td colspan="7" rowspan="1"> 表7-11－I Slice 的宏块类型 </td>
| mb_type | mb_type 的名称 | transform_size_8x8_flag | MbPartPredMode ( mb_type, 0 ) | Intra16x16PredMode | CodedBlockPatternChroma | CodedBlockPatternLuma 

<p>mb_type 的名称</p>
<p>MbPartPredMode</p>
<p>Intra16x16PredMode</p>
<p>CodedBlockPatternLuma<br>| 0 | I_NxN | 0 | Intra_4x4 | na | 公式 7-33 | 公式 7-33 </p>
<p>I_NxN</p>
<p>Intra_4x4</p>
<p>公式 7-33<br>| 0 | I_NxN | 1 | Intra_8x8 | na | 公式 7-33 | 公式 7-33 </p>
<p>I_NxN</p>
<p>Intra_8x8</p>
<p>公式 7-33<br>| 1 | I_16x16_0_0_0 | na | Intra_16x16 | 0 | 0 | 0 </p>
<p>I_16x16_0_0_0</p>
<p>Intra_16x16</p>
<p>0<br>| 2 | I_16x16_1_0_0 | na | Intra_16x16 | 1 | 0 | 0 </p>
<p>I_16x16_1_0_0</p>
<p>Intra_16x16</p>
<p>0<br>| 3 | I_16x16_2_0_0 | na | Intra_16x16 | 2 | 0 | 0 </p>
<p>I_16x16_2_0_0</p>
<p>Intra_16x16</p>
<p>0<br>| 4 | I_16x16_3_0_0 | na | Intra_16x16 | 3 | 0 | 0 </p>
<p>I_16x16_3_0_0</p>
<p>Intra_16x16</p>
<p>0<br>| 5 | I_16x16_0_1_0 | na | Intra_16x16 | 0 | 1 | 0 </p>
<p>I_16x16_0_1_0</p>
<p>Intra_16x16</p>
<p>1<br>| 6 | I_16x16_1_1_0 | na | Intra_16x16 | 1 | 1 | 0 </p>
<p>I_16x16_1_1_0</p>
<p>Intra_16x16</p>
<p>1<br>| 7 | I_16x16_2_1_0 | na | Intra_16x16 | 2 | 1 | 0 </p>
<p>I_16x16_2_1_0</p>
<p>Intra_16x16</p>
<p>1<br>| 8 | I_16x16_3_1_0 | na | Intra_16x16 | 3 | 1 | 0 </p>
<p>I_16x16_3_1_0</p>
<p>Intra_16x16</p>
<p>1<br>| 9 | I_16x16_0_2_0 | na | Intra_16x16 | 0 | 2 | 0 </p>
<p>I_16x16_0_2_0</p>
<p>Intra_16x16</p>
<p>2<br>| 10 | I_16x16_1_2_0 | na | Intra_16x16 | 1 | 2 | 0 </p>
<p>I_16x16_1_2_0</p>
<p>Intra_16x16</p>
<p>2<br>| 11 | I_16x16_2_2_0 | na | Intra_16x16 | 2 | 2 | 0 </p>
<p>I_16x16_2_2_0</p>
<p>Intra_16x16</p>
<p>2<br>| 12 | I_16x16_3_2_0 | na | Intra_16x16 | 3 | 2 | 0 </p>
<p>I_16x16_3_2_0</p>
<p>Intra_16x16</p>
<p>2<br>| 13 | I_16x16_0_0_1 | na | Intra_16x16 | 0 | 0 | 15 </p>
<p>I_16x16_0_0_1</p>
<p>Intra_16x16</p>
<p>0<br>| 14 | I_16x16_1_0_1 | na | Intra_16x16 | 1 | 0 | 15 </p>
<p>I_16x16_1_0_1</p>
<p>Intra_16x16</p>
<p>0<br>| 15 | I_16x16_2_0_1 | na | Intra_16x16 | 2 | 0 | 15 </p>
<p>I_16x16_2_0_1</p>
<p>Intra_16x16</p>
<p>0<br>| 16 | I_16x16_3_0_1 | na | Intra_16x16 | 3 | 0 | 15 </p>
<p>I_16x16_3_0_1</p>
<p>Intra_16x16</p>
<p>0<br>| 17 | I_16x16_0_1_1 | na | Intra_16x16 | 0 | 1 | 15 </p>
<p>I_16x16_0_1_1</p>
<p>Intra_16x16</p>
<p>1<br>| 18 | I_16x16_1_1_1 | na | Intra_16x16 | 1 | 1 | 15 </p>
<p>I_16x16_1_1_1</p>
<p>Intra_16x16</p>
<p>1<br>| 19 | I_16x16_2_1_1 | na | Intra_16x16 | 2 | 1 | 15 </p>
<p>I_16x16_2_1_1</p>
<p>Intra_16x16</p>
<p>1<br>| 20 | I_16x16_3_1_1 | na | Intra_16x16 | 3 | 1 | 15 </p>
<p>I_16x16_3_1_1</p>
<p>Intra_16x16</p>
<p>1<br>| 21 | I_16x16_0_2_1 | na | Intra_16x16 | 0 | 2 | 15 </p>
<p>I_16x16_0_2_1</p>
<p>Intra_16x16</p>
<p>2<br>| 22 | I_16x16_1_2_1 | na | Intra_16x16 | 1 | 2 | 15 </p>
<p>I_16x16_1_2_1</p>
<p>Intra_16x16</p>
<p>2<br>| 23 | I_16x16_2_2_1 | na | Intra_16x16 | 2 | 2 | 15 </p>
<p>I_16x16_2_2_1</p>
<p>Intra_16x16</p>
<p>2<br>| 24 | I_16x16_3_2_1 | na | Intra_16x16 | 3 | 2 | 15 </p>
<p>I_16x16_3_2_1</p>
<p>Intra_16x16</p>
<p>2<br>| 25 | I_PCM | na | na | na | na | na </p>
<p>I_PCM</p>
<p>na</p>
<p>na</p>
<p>其中：</p>
<p>**mb_type **宏块类型的数值，I slice共有 26个数值：</p>
<p>**name **宏块类型的名称，其中</p>
<ul>
<li>名称开头的I表示 I 宏块类型- I_NxN 表示的是 I_8x8 或者 I_4x4；- I_16x16_a_b_c 中的 I_16x16 代表以 intra_16x16 为预测方式；- I_16x16_a_b_c 中的 a 代表 intra_16x16 当中的 4 种模式；- I_16x16_a_b_c 中的 b 代表使用 intra_16x16 预测方式时的 Chroma CBP；- I_16x16_a_b_c 中的 c 代表使用 intra_16x16 预测方式时的 Luma CBP；- I_PCM：把一个宏块共256个像素点的值不做任何处理，直接进行熵编码的模式，Chroma 也有PCM这个模式；<br><strong>transform_size_8x8_flag ：</strong>表示该宏块是否使用8x8大小的DCT变换</li>
<li>1 表示，宏块划分为4个8x8块，采用 8x8 的块进行熵编码；- 0 表示，宏块划分为16个4x4块，采用 4x4 块进行熵编码，na 的情况同 0；<br><strong>MbPartPredMode(mb_type, 0) ：</strong></li>
</ul>
<p>表明当前宏块类型所采用的 Intra 预测方式，关于 Intra 预测方式参考 </p>
<p>**Intra16x16PredMode **(代表了 16x16 mb 的 4 中预测模式)：</p>
<p>如果当前宏块类型采用的预测方式为 Intra_16x16，那么该字段有效，它用0~3表示了 Intra_16x16中的 4 种模式，请参考中的 Intra16x16 部分：<br>| Intra16x16PredMode | Name of Intra16x16PredMode </p>
<p>Name of Intra16x16PredMode<br>| 0 | Intra_16x16_Vertical </p>
<p>Intra_16x16_Vertical<br>| 1 | Intra_16x16_Horizontal </p>
<p>Intra_16x16_Horizontal<br>| 2 | Intra_16x16_DC </p>
<p>Intra_16x16_DC<br>| 3 | Intra_16x16_Plane </p>
<p>Intra_16x16_Plane</p>
<p><strong>CodedBlockPatternChroma（CBP）</strong>：</p>
<p>如果当前宏块类型采用的预测方式为 Intra_16x16，那么该字段有效，它用0~2表示了 Chroma 宏块中的 CBP，请参考中的 coded_block_pattern</p>
<img alt="" height="197" src="images/H.264 入门篇 - 03 (宏块类型)/f66f062ce72e469eaab9e576076ffd1a.png" width="787">

<p><strong>CBP</strong> 用来反映该宏块编码中残差情况的语法元素；</p>
<p><strong>CodedBlockPatternLuma （CBP）</strong> ：</p>
<p>如果当前宏块类型采用的预测方式为 Intra_16x16，那么该字段有效，它表示了Luma宏块中的CBP。从的 residual 部分，我们知道当预测模式为Intra_16x16时，宏块需要分开AC level与DC level进行熵编码。0：表示宏块内的16个4x4块中的AC level全部都为0，15：宏块内的16个4x4块中至少有一个块的 AC level不全为 0</p>
<p>公式 7-33：</p>
<p>CodedBlockPatternLuma &#x3D; coded_block_pattern % 16</p>
<p>CodedBlockPatternChroma &#x3D; coded_block_pattern &#x2F; 16</p>
<p>当宏块为子宏块，即多个 4x4 或者 8x8 的时候，使用 9 种预测模式：<br>| IntraPredMode | Name of Intra4x4PredMode | Name of Intra8x8PredMode </p>
<p>Name of Intra4x4PredMode<br>| 0 | Intra_4x4_Vertical | Intra_8x8_Vertical </p>
<p>Intra_4x4_Vertical<br>| 1 | Intra_4x4_Horizontal | Intra_8x8_Horizontal </p>
<p>Intra_4x4_Horizontal<br>| 2 | Intra_4x4_DC | Intra_8x8_DC </p>
<p>Intra_4x4_DC<br>| 3 | Intra_4x4_Diagonal_Down_left | Intra_8x8_Diagonal_Down_left </p>
<p>Intra_4x4_Diagonal_Down_left<br>| 4 | Intra_4x4_Diagonal_Down_right | Intra_8x8_Diagonal_Down_right </p>
<p>Intra_4x4_Diagonal_Down_right<br>| 5 | Intra_4x4_Vertical_Right | Intra_8x8_Vertical_Right </p>
<p>Intra_4x4_Vertical_Right<br>| 6 | Intra_4x4_Horizontal_Down | Intra_8x8_Horizontal_Down </p>
<p>Intra_4x4_Horizontal_Down<br>| 7 | Intra_4x4_Vertical_Left | Intra_8x8_Vertical_Left </p>
<p>Intra_4x4_Vertical_Left<br>| 8 | Intra_4x4_Horizontal_Up | Intra_8x8_Horizontal_Up </p>
<p>Intra_4x4_Horizontal_Up</p>
<img alt="" height="905" src="images/H.264 入门篇 - 03 (宏块类型)/5e1e289a70fa288eae6c5178ac5c43f8.png" width="1200">

<h3 id="3-2、P-Slice-的-mb-type"><a href="#3-2、P-Slice-的-mb-type" class="headerlink" title="3.2、P Slice 的 mb_type"></a>3.2、P Slice 的 mb_type</h3><p>P slice中包含了I宏块类型（I开头）与P宏块类型（P开头）。I宏块类型mb_type数值为5<del>30，见上面I宏块类型的表格，其序号为mb_type-5。P宏块类型为0</del>4，见下表</p>
<td colspan="7" rowspan="1"> 表7-13－P和SP条带的值为0到4的宏块类型 </td>
| mb_type | mb_type 的名称 | NumMbPart ( mb_type ) | MbPartPredMode ( mb_type, 0 ) | MbPartPredMode ( mb_type, 1 ) | MbPartWidth ( mb_type ) | MbPartHeight ( mb_type ) 

<p>mb_type 的名称</p>
<p>( mb_type )</p>
<p>( mb_type, 0 )</p>
<p>( mb_type, 1 )</p>
<p>( mb_type )</p>
<p>( mb_type )<br>| 0 | P_L0_16x16 | 1 | Pred_L0 | na | 16 | 16 </p>
<p>P_L0_16x16</p>
<p>Pred_L0</p>
<p>16<br>| 1 | P_L0_L0_16x8 | 2 | Pred_L0 | Pred_L0 | 16 | 8 </p>
<p>P_L0_L0_16x8</p>
<p>Pred_L0</p>
<p>16<br>| 2 | P_L0_L0_8x16 | 2 | Pred_L0 | Pred_L0 | 8 | 16 </p>
<p>P_L0_L0_8x16</p>
<p>Pred_L0</p>
<p>8<br>| 3 | P_8x8 | 4 | na | na | 8 | 8 </p>
<p>P_8x8</p>
<p>na</p>
<p>8<br>| 4 | P_8x8ref0 | 4 | na | na | 8 | 8 </p>
<p>P_8x8ref0</p>
<p>na</p>
<p>8<br>| 推测值 | P_Skip | 1 | Pred_L0 | na | 16 | 16 </p>
<p>P_Skip</p>
<p>Pred_L0</p>
<p>16</p>
<p>**mb_type **宏块类型的数值，P slice共有31个数值</p>
<p>**name **宏块类型的名称，其中</p>
<ul>
<li>开头的P表示P宏块类型- 末尾的 M x N 代表宏块的分割方式- P_L0_16x16 表示宏块的分割方式为16x16，也就是不进行分割，那么它只有一个前向参考图像 L0；- P_L0_L0_16x8 表示宏块的的分割方式为 16x8，也就是宏块被分成俩个 16x8 的块，每个 16x8 的块都有一个前向参考图像 L0，即两个L0，按顺序写成 P_L0_L0_16x8- P_L0_L0_16x8 表示宏块的的分割方式为 8x16，也就是宏块被分成俩个 8x16 的块，每个 8x16 的块都有一个前向参考图像 L0，即两个 L0，按顺序写成 P_L0_L0_8x16- P_8x8 表示宏块分成 4 个 8x8 的子宏块，对每个子宏块会采用 sub_mb_type 来表明该子宏块的类型，下面一节会进行分析- P_8x8ref0 表示同上，不过该宏块的4个子宏块采用的参考图像都是ref0，在sub_mb_pred（请参考中的sub_mb_pred部分）语法结构中不会包含他们的refIdx- P_Skip 表示该宏块在码流中没有更多的数据了。请注意他的 mb_type 为 inferred，不过它并不在mb_type 中表示，而是在slice_data处就已经用skip_run或者skip_flag来表示，请参考中的slice_data部分<br><strong>NumMbPart(mb_type)</strong> 宏块被分割成多少部分</li>
</ul>
<p><strong>MbPartPredMode(mb_type,0)</strong> 宏块分割后的第一部分的预测模式为前向预测，还是后向预测，还是双向预测，由于是 P slice，这里只能是前向预测 <strong>Pred_L0</strong></p>
<p><strong>MbPartPredMode(mb_type,1)</strong> 宏块分割后的第二部分的预测模式为前向预测，还是后向预测，还是双向预测，由于是 P slice，这里只能是前向预测 <strong>Pred_L0</strong></p>
<p>**MbPartWidth(mb_type) **分割后的块的宽度</p>
<p>**MbPartHeight(mb_type) **分割后的块的高度</p>
<h3 id="3-3、B-Slice-的-mb-type"><a href="#3-3、B-Slice-的-mb-type" class="headerlink" title="3.3、B Slice 的 mb_type"></a>3.3、B Slice 的 mb_type</h3><p>B slice中包含了I宏块类型（I开头）与B宏块类型（B开头）。I宏块类型mb_type数值为23<del>48，见上面I宏块类型的表格，其序号为mb_type-23。P宏块类型为0</del>22，见下表</p>
<td colspan="7" rowspan="1"> 表7-14－B条带中值为0到22的宏块类型 </td>
| mb_type | mb_type 的名称 | NumMbPart ( mb_type ) | MbPartPredMode ( mb_type, 0 ) | MbPartPredMode ( mb_type, 1 ) | MbPartWidth ( mb_type ) | MbPartHeight ( mb_type ) 

<p>mb_type 的名称</p>
<p>( mb_type )</p>
<p>( mb_type, 0 )</p>
<p>( mb_type, 1 )</p>
<p>( mb_type )</p>
<p>( mb_type )<br>| 0 | B_Direct_16x16 | na | Direct | Na | 8 | 8 </p>
<p>B_Direct_16x16</p>
<p>Direct</p>
<p>8<br>| 1 | B_L0_16x16 | 1 | Pred_L0 | Na | 16 | 16 </p>
<p>B_L0_16x16</p>
<p>Pred_L0</p>
<p>16<br>| 2 | B_L1_16x16 | 1 | Pred_L1 | Na | 16 | 16 </p>
<p>B_L1_16x16</p>
<p>Pred_L1</p>
<p>16<br>| 3 | B_Bi_16x16 | 1 | BiPred | Na | 16 | 16 </p>
<p>B_Bi_16x16</p>
<p>BiPred</p>
<p>16<br>| 4 | B_L0_L0_16x8 | 2 | Pred_L0 | Pred_L0 | 16 | 8 </p>
<p>B_L0_L0_16x8</p>
<p>Pred_L0</p>
<p>16<br>| 5 | B_L0_L0_8x16 | 2 | Pred_L0 | Pred_L0 | 8 | 16 </p>
<p>B_L0_L0_8x16</p>
<p>Pred_L0</p>
<p>8<br>| 6 | B_L1_L1_16x8 | 2 | Pred_L1 | Pred_L1 | 16 | 8 </p>
<p>B_L1_L1_16x8</p>
<p>Pred_L1</p>
<p>16<br>| 7 | B_L1_L1_8x16 | 2 | Pred_L1 | Pred_L1 | 8 | 16 </p>
<p>B_L1_L1_8x16</p>
<p>Pred_L1</p>
<p>8<br>| 8 | B_L0_L1_16x8 | 2 | Pred_L0 | Pred_L1 | 16 | 8 </p>
<p>B_L0_L1_16x8</p>
<p>Pred_L0</p>
<p>16<br>| 9 | B_L0_L1_8x16 | 2 | Pred_L0 | Pred_L1 | 8 | 16 </p>
<p>B_L0_L1_8x16</p>
<p>Pred_L0</p>
<p>8<br>| 10 | B_L1_L0_16x8 | 2 | Pred_L1 | Pred_L0 | 16 | 8 </p>
<p>B_L1_L0_16x8</p>
<p>Pred_L1</p>
<p>16<br>| 11 | B_L1_L0_8x16 | 2 | Pred_L1 | Pred_L0 | 8 | 16 </p>
<p>B_L1_L0_8x16</p>
<p>Pred_L1</p>
<p>8<br>| 12 | B_L0_Bi_16x8 | 2 | Pred_L0 | BiPred | 16 | 8 </p>
<p>B_L0_Bi_16x8</p>
<p>Pred_L0</p>
<p>16<br>| 13 | B_L0_Bi_8x16 | 2 | Pred_L0 | BiPred | 8 | 16 </p>
<p>B_L0_Bi_8x16</p>
<p>Pred_L0</p>
<p>8<br>| 14 | B_L1_Bi_16x8 | 2 | Pred_L1 | BiPred | 16 | 8 </p>
<p>B_L1_Bi_16x8</p>
<p>Pred_L1</p>
<p>16<br>| 15 | B_L1_Bi_8x16 | 2 | Pred_L1 | BiPred | 8 | 16 </p>
<p>B_L1_Bi_8x16</p>
<p>Pred_L1</p>
<p>8<br>| 16 | B_Bi_L0_16x8 | 2 | BiPred | Pred_L0 | 16 | 8 </p>
<p>B_Bi_L0_16x8</p>
<p>BiPred</p>
<p>16<br>| 17 | B_Bi_L0_8x16 | 2 | BiPred | Pred_L0 | 8 | 16 </p>
<p>B_Bi_L0_8x16</p>
<p>BiPred</p>
<p>8<br>| 18 | B_Bi_L1_16x8 | 2 | BiPred | Pred_L1 | 16 | 8 </p>
<p>B_Bi_L1_16x8</p>
<p>BiPred</p>
<p>16<br>| 19 | B_Bi_L1_8x16 | 2 | BiPred | Pred_L1 | 8 | 16 </p>
<p>B_Bi_L1_8x16</p>
<p>BiPred</p>
<p>8<br>| 20 | B_Bi_Bi_16x8 | 2 | BiPred | BiPred | 16 | 8 </p>
<p>B_Bi_Bi_16x8</p>
<p>BiPred</p>
<p>16<br>| 21 | B_Bi_Bi_8x16 | 2 | BiPred | BiPred | 8 | 16 </p>
<p>B_Bi_Bi_8x16</p>
<p>BiPred</p>
<p>8<br>| 22 | B_8x8 | 4 | na | na | 8 | 8 </p>
<p>B_8x8</p>
<p>na</p>
<p>8<br>| 推测值 | B_Skip | na | 直接值 | na | 8 | 8 </p>
<p>B_Skip</p>
<p>直接值</p>
<p>8</p>
<p><strong>mb_type</strong> 宏块类型的数值；</p>
<p>**name **宏块类型的名称，其中</p>
<ul>
<li>开头的B代表B宏块类型- 末尾的 mxn 代表宏块的分割方式- B_Direct_16x16 整个宏块都采用 Direct 的方式进行预测（请参考），不需要编码mvd 以及 refIdx ，在解码时重建宏块所用的 mv 与 refIdx 靠直接预测进行推导，只需要编码residual（请参考）- B_X0_mxn 当宏块的分割方式为16x16时，意味着宏块不需要进行分割，因此只需要用一个字段（L0:前向预测；L1:后向预测；Bi：双向预测）来表示当前宏块的预测类型- B_X0_X1_mxn 当前宏块的分割方式为16x8或者8x16时，意味着宏块会被分割成两部分，因此需要用两个字段来分别表示这两个部分的预测类型（如L0_Bi表示第一部分为前向预测，第二部分为双向预测）- B_8x8表示宏块分成4个8x8的子宏块，对每个子宏块会采用sub_mb_type来表明该子宏块的类型，下面一节会进行分析- B_Skip 表示该宏块在码流中没有更多的数据了。请注意他的 mb_type 为inferred，不过它并不在mb_type中表示，而是在slice_data处就已经用skip_run或者skip_flag来表示，请参考中的slice_data部分<br><strong>NumMbPart(mb_type)</strong> 宏块被分割成多少部分</li>
</ul>
<p>**MbPartPredMode(mb_type,0) **宏块分割后的第一部分的预测模式为前向预测，还是后向预测，还是双向预测</p>
<p>**MbPartPredMode(mb_type,1) **宏块分割后的第二部分的预测模式为前向预测，还是后向预测，还是双向预测</p>
<p><strong>MbPartWidth(mb_type)</strong> 分割后的块的宽度</p>
<p><strong>MbPartHeight(mb_type)</strong> 分割后的块的高度</p>
<h2 id="4、子宏块类型-sub-mb-type"><a href="#4、子宏块类型-sub-mb-type" class="headerlink" title="4、子宏块类型 sub_mb_type"></a>4、子宏块类型 sub_mb_type</h2><p>子宏块即 8x8 块，一个16x16的宏块分为4个子宏块，每个子宏块类型表示都是一个8x8块的分割、预测方式，因此，采用子宏块预测的宏块其语法结构中会有4个子宏块类型。在H.264码流结构中，子宏块类型在 sub_mb_pred 中用 sub_mb_type表示（请参考中的sub_mb_pred）。</p>
<p>sub_mb_type 也是与slice类型相关的，在 I slice中是没有子宏块类型的，因为I slice中只包含intra预测，而子宏块类型是inter预测中的部分。另外，数值相同的sub_mb_type在P slice与B slice中表示的是不同的类型。</p>
<h3 id="4-1、P-slice-的-sub-mb-type"><a href="#4-1、P-slice-的-sub-mb-type" class="headerlink" title="4.1、P slice 的 sub_mb_type"></a>4.1、P slice 的 sub_mb_type</h3><p>P slice的子宏块类型只包含了以下P子宏块类型（P开头），数值为0~3，见下表<br>| sub_mb_type [mbPartIdx ] | name | NumSubMbPart ( sub_mb_type [mbPartIdx ] ) | SubMbPredMode ( sub_mb_type [mbPartIdx ] ) | SubMbPartWidth ( sub_mb_type [mbPartIdx ] ) | SubMbPartHeight ( sub_mb_type [mbPartIdx ] ) </p>
<p>name</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )<br>| inferred | na | na | na | na | na </p>
<p>na</p>
<p>na</p>
<p>na<br>| 0 | P_L0_8x8 | 1 | Pred_L0 | 8 | 8 </p>
<p>P_L0_8x8</p>
<p>Pred_L0</p>
<p>8<br>| 1 | P_L0_8x4 | 2 | Pred_L0 | 8 | 4 </p>
<p>P_L0_8x4</p>
<p>Pred_L0</p>
<p>4<br>| 2 | P_L0_4x8 | 2 | Pred_L0 | 4 | 8 </p>
<p>P_L0_4x8</p>
<p>Pred_L0</p>
<p>8<br>| 3 | P_L0_4x4 | 4 | Pred_L0 | 4 | 4 </p>
<p>P_L0_4x4</p>
<p>Pred_L0</p>
<p>4</p>
<p><strong>sub_mb_type</strong> 子宏块类型的值</p>
<p><strong>mbPartIdx</strong> 由于一个宏块可以分割成4个子宏块，因此用这个符号来表示这四个子宏块</p>
<p><strong>name</strong> 子宏块类型的名称，其中</p>
<ul>
<li>P表示为P子宏块类型- P_L0_mxn中的L0表示子宏块的预测方式- P_L0_mxn中的mxn表示子宏块的分割方式<br><strong>NumSubMbPart</strong> 子宏块会被分割成多少部分</li>
</ul>
<p>**SubMbPredMode **子宏块预测模式，由于是P slice，因此只能是前向预测Pred_L0</p>
<p>**SubMbPartWidth **分割后的块的宽度</p>
<p><strong>SubMbPartHeight</strong> 分割后的块的高度</p>
<h3 id="4-2、B-slice-的-sub-mb-type"><a href="#4-2、B-slice-的-sub-mb-type" class="headerlink" title="4.2、B slice 的 sub_mb_type"></a>4.2、B slice 的 sub_mb_type</h3><p>B slice的子宏块类型只包含了以下B子宏块类型（B开头），数值为0~12，见下表<br>| sub_mb_type [mbPartIdx ] | name | NumSubMbPart ( sub_mb_type [mbPartIdx ] ) | SubMbPredMode ( sub_mb_type [mbPartIdx ] ) | SubMbPartWidth ( sub_mb_type [mbPartIdx ] ) | SubMbPartHeight ( sub_mb_type [mbPartIdx ] ) </p>
<p>name</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )</p>
<p>( sub_mb_type [mbPartIdx ] )<br>| inferred | na | na | na | na | na </p>
<p>na</p>
<p>na</p>
<p>na<br>| 0 | B_Direct_8x8 | 4 | Direct | 4 | 4 </p>
<p>B_Direct_8x8</p>
<p>Direct</p>
<p>4<br>| 1 | B_L0_8x8 | 1 | Pred_L0 | 8 | 8 </p>
<p>B_L0_8x8</p>
<p>Pred_L0</p>
<p>8<br>| 2 | B_L1_8x8 | 1 | Pred_L1 | 8 | 8 </p>
<p>B_L1_8x8</p>
<p>Pred_L1</p>
<p>8<br>| 3 | B_Bi_8x8 | 1 | BiPred | 8 | 8 </p>
<p>B_Bi_8x8</p>
<p>BiPred</p>
<p>8<br>| 4 | B_L0_8x4 | 2 | Pred_L0 | 8 | 4 </p>
<p>B_L0_8x4</p>
<p>Pred_L0</p>
<p>4<br>| 5 | B_L0_4x8 | 2 | Pred_L0 | 4 | 8 </p>
<p>B_L0_4x8</p>
<p>Pred_L0</p>
<p>8<br>| 6 | B_L1_8x4 | 2 | Pred_L1 | 8 | 4 </p>
<p>B_L1_8x4</p>
<p>Pred_L1</p>
<p>4<br>| 7 | B_L1_4x8 | 2 | Pred_L1 | 4 | 8 </p>
<p>B_L1_4x8</p>
<p>Pred_L1</p>
<p>8<br>| 8 | B_Bi_8x4 | 2 | BiPred | 8 | 4 </p>
<p>B_Bi_8x4</p>
<p>BiPred</p>
<p>4<br>| 9 | B_Bi_4x8 | 2 | BiPred | 4 | 8 </p>
<p>B_Bi_4x8</p>
<p>BiPred</p>
<p>8<br>| 10 | B_L0_4x4 | 4 | Pred_L0 | 4 | 4 </p>
<p>B_L0_4x4</p>
<p>Pred_L0</p>
<p>4<br>| 11 | B_L1_4x4 | 4 | Pred_L1 | 4 | 4 </p>
<p>B_L1_4x4</p>
<p>Pred_L1</p>
<p>4<br>| 12 | B_Bi_4x4 | 4 | BiPred | 4 | 4 </p>
<p>B_Bi_4x4</p>
<p>BiPred</p>
<p>4</p>
<p>**sub_mb_type **子宏块类型的值；</p>
<p><strong>mbPartIdx</strong> 由于一个宏块可以分割成4个子宏块，因此用这个符号来表示这四个子宏块；</p>
<p>**name **子宏块类型的名称，其中</p>
<ul>
<li>B表示为B子宏块类型；- B_X0_mxn中的X0表示子宏块的预测模式，由于参考图像索引refIdx是以8x8块为单位的，因此一个子宏块中的所有子块共用参考图像索引（请参考中的sub_mb_pred部分），也就是说整个子宏块的预测模式只能是是前向预测Pred_L0、后向预测Pred_L1、双向预测BiPred中的某一种；- B_X0_mxn中的mxn表示子宏块的分割方式；<br>**NumSubMbPart **子宏块会被分割成多少部分；</li>
</ul>
<p>**SubMbPredMode **子宏块预测模式，由于是B slice，因此预测模式相比P slice的前向预测Pred_L0增加了后向预测Pred_L1以及双向预测BiPred中；</p>
<p>**SubMbPartWidth **分割后的块的宽度；</p>
<p>**SubMbPartHeight **分割后的块的高度；</p>
<p> 参考文档：</p>

  <div class="guide-links">
    
    
      <span style="float: right;"><a href="/modern-cpp/zh-cn/01-intro/index.html">第 1 章 迈向现代 C++</a> →</span>
    
  </div>

    <div class="footer">
        <p>
          <a target="_blank" rel="noopener" href="https://changkun.de">欧长坤</a> &copy; 2016-2025 版权所有，
          采用<a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议许可</a>，代码使用 <a href="https://opensource.org/licenses/MIT" target="_blank">MIT</a> 协议开源。</a>
        </p>
        <p>
            如果你认为本书对你起到了帮助，可以<a href="/modern-cpp/about/donate.html">资助作者</a>。
        </p>
      </div>



</div>

	</div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/smooth-scroll/10.2.1/js/smooth-scroll.min.js"></script>

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="https://cdn.jsdelivr.net/npm/css.escape@1.5.1/css.escape.min.js"></script>
    <script src="/modern-cpp/js/common.js"></script>

    <!-- fastclick -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
    </script>
  </body>
</html>
